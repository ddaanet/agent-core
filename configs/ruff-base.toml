# Ruff configuration fragment - Shared settings
#
# This file contains the intersection of ruff configurations across agent projects.
# Projects should extend this with project-specific settings as needed.
#
# Template variables for customization:
#   - Uncomment/modify line-length based on project preference (default: 100)
#   - Uncomment/modify target-version based on Python version (default: py312)
#   - Projects may add rules in lint.ignore section
#   - Projects may configure lint.per-file-ignores for test files
#
# Recommended project-specific additions:
#   [lint.per-file-ignores]
#   "tests/**/*.py" = ["S101", "ARG", "SLF001"]
#   "src/**/__init__.py" = ["F401"]  # Allow unused imports in __init__

[ruff]
# Code style - uncomment/customize as needed
# line-length = 100  # Default: 100 (common across projects)
# target-version = "py312"  # Default: py312 (baseline)

# All projects use ALL rules with selective ignores
[lint]
select = ["ALL"]
ignore = [
    # Docstring format conflicts with various standards
    "D203",     # no blank line required before class docstring
    "D213",     # multi-line docstring summary should start at the first line

    # Security rules that are project-specific
    "S603",     # subprocess call - common pattern, allow in code

    # Comparisons and errors
    "PLR2004",  # Magic value used in comparison (too strict for most projects)
    "EM",       # Error message can be duplicated in traceback

    # Rules that conflict with ruff formatter
    # https://docs.astral.sh/ruff/formatter/#conflicting-lint-rules
    "W191",     # tab-indentation
    "E111",     # indentation-with-invalid-multiple
    "E114",     # indentation-with-invalid-multiple-comment
    "E117",     # over-indented
    "D206",     # docstring-tab-indentation
    "D300",     # triple-single-quotes
    "Q000",     # bad-quotes-inline-string
    "Q001",     # bad-quotes-multiline-string
    "Q002",     # bad-quotes-docstring
    "Q003",     # avoidable-escaped-quote
    "COM812",   # missing-trailing-comma
    "COM819",   # prohibited-trailing-comma
    "ISC002",   # multi-line-implicit-string-concatenation
]

[lint.pydocstyle]
convention = "pep257"

# Project-specific settings will be added at composition time:
# [lint.per-file-ignores]
# "tests/**/*.py" = [
#     "S101",     # Assert statements
#     "ARG",      # Unused function arguments
#     "SLF001",   # Private member accessed
# ]
